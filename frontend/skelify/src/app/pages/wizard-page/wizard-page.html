<div class="wizard-container">

  <app-progress-bar />

  <div class="wizard-content">
    @switch (wizardState.currentStep()) {
      @case (1) {
        <app-project-info-step (isFormValid)="isProjectInfoFormValid.set($event)" />
      }
      @case (2) {
        <app-tech-stack-step />
      }
      @case (3) {
        <app-infrastructure-step />
      }
      @case (4) {
        <app-review-step />
      }
    }
  </div>

  <div class="wizard-actions">
    <button class="previous-button" [class.hidden]="wizardState.currentStep() === 1" (click)="previousStep()">Previous</button>
    <div class="flex-grow"></div>
    <button
      class="next-button"
      (click)="handleNextStep()"
      [disabled]="(wizardState.currentStep() === 1 && !isProjectInfoFormValid()) || wizardState.isLoading() || wizardState.isGenerated()"ÃŸ
    >
      @if (wizardState.isLastStep()) {
        <span>Generate</span>
      } @else {
        <span>Next</span>
      }
    </button>
  </div>
</div>
